<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>List People</title>
    <link rel="stylesheet" href="../../static/jquery-ui-1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="../../static/themes/metro/blue/jtable.min.css" type="text/css">
    <link rel="stylesheet" href="../../static/jquery-ui-1.12.1/jquery-ui.structure.min.css">
    <link rel="stylesheet" href="../../static/jquery-ui-1.12.1/jquery-ui.theme.min.css">


</head>
<body>
<div id="PersonTableContainer"></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>
<script src="../../static/jquery-ui-1.12.1/jquery-ui.min.js"></script>
<script src="../../static/jquery.jtable.min.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function () {
        $('#PersonTableContainer').jtable({
            title: 'Table of people',
            selected: true,
            multiselect: true,
            selectingCheckboxes: true,
            actions: {
                listAction: '/people2',
                createAction: '/add-person',
                updateAction: '/GettingStarted/UpdatePerson',
                deleteAction: '/GettingStarted/DeletePerson'
            },
            fields: {
                id: {
                    title: 'Id',
                    width: '10%'
                },
                name: {
                    title: 'Name',
                    width: '30%'
                },
                identityCard: {
                    title: 'Identity Card',
                    width: '20%'
                },
                ward: {
                    title: 'Ward',
                    width: '20%'
                },
                district: {
                    title: 'District',
                    width: '20%'
                }
            },
            // recordsLoaded: function(event, data) {
            //
            //     $('.jtable-data-row').click(function() {
            //         console.log(data)
            //         var row_id = $(this).attr('data-record-id');
            //         alert('clicked row with id '+ row_id);
            //     });
            // },
            selectionChanged: function () {
                //Get all selected rows
                var $selectedRows = $('#PersonTableContainer').jtable('selectedRows');
                if ($selectedRows.length > 0) {
                    //Show selected rows
                    $selectedRows.each(function () {
                        var record = $(this).data('record');
                        alert(record.ID);
                        alert(record.Name);
                    });
                } else {
                    //No rows selected logic here
                }
            }
        });

        $('#PersonTableContainer').jtable('load');

    });
</script>
</body>
</html>